import json

error_coef_4th = [[1.1105949045430998, 1.2250315489649668, 1.1624663484378888],
                  [1.0260818839921038, 1.1865922161934563, 1.231211872468265],
                  [1.050548377220814, 1.1784174675576982, 1.2420410438007683],
                  [1.0922104692475685, 1.2721006985284278, 1.2245291254329698],
                  [1.037394263220248, 1.2623742303214258, 1.3081179398812943],
                  [1.1407900404634956, 1.2791536945760196, 1.1715997980247506],
                  [1.0466306234946834, 1.188701065057391, 1.1587035348501877],
                  [1.0945906739528566, 1.2191927363110444, 1.1635610048951694],
                  [1.013122567830677, 1.3141024639992862, 1.4059252091752519],
                  [0.9616910341494331, 1.2522258435956986, 1.305929320229917],
                  [1.2507883038209593, 1.2516938950988823, 2.3732492044929154],
                  [1.0654926801160294, 1.3016536061757358, 1.8169699809940378],
                  [0.9483784589888786, 1.21667766520012, 1.1907805959123368],
                  [1.0332179573280984, 1.2094367921819982, 1.2379634696861086],
                  [0.9980865376249891, 1.2911264270306564, 1.2091197942639222],
                  [1.0581271945552224, 1.2212219092216403, 1.1935623970967482],
                  [1.0869472526872708, 1.1473828134981725, 1.277664823403206],
                  [1.0525430702640526, 1.2890833184066577, 1.4786947944389646],
                  [1.004408660959923, 1.30913701786743, 1.2075768446761097],
                  [1.0886493850462737, 1.1550302032221973, 1.2052335607135771],
                  [0.9535649515865271, 1.2664236403181357, 1.1615143903568472],
                  [1.113518041745797, 1.186558334497246, 1.2337264478977192],
                  [1.1187948579823934, 1.2534865066998429, 1.3428104575163398],
                  [1.1079505709962332, 1.232969521253654, 1.24476842442683],
                  [1.0690826932472293, 1.2586163094647786, 1.3802307170323456],
                  [1.0768171707727696, 1.211379509315513, 1.2335887151452],
                  [1.0815178071266485, 1.2409269732204238, 1.2358305037678452],
                  [1.1366186068434911, 1.2523159293209452, 1.4738474759841778],
                  [1.0429269910472747, 1.2898176895453182, 1.2063202598567975],
                  [1.1294559348098874, 1.1851567970751844, 1.5120219773358723],
                  [1.0154019304184974, 1.2343723987834936, 1.373507159972077],
                  [0.9850205081718558, 1.2706594671172604, 1.285468191747676],
                  [1.0471200134263288, 1.2301053421861436, 1.2058551332103082],
                  [1.0283775738156504, 1.299612833518413, 2.026825479026411],
                  [1.0777090339144462, 1.1825850997653828, 1.476956262642371],
                  [1.092137714075717, 1.3355702212108176, 1.5158137561389562],
                  [1.1316819094511439, 1.2340258872247767, 1.3008460183171695],
                  [1.0844911648223095, 1.2723955777501947, 1.5034917451563228],
                  [1.0766705371592131, 1.2308355941453635, 1.1795994767338902],
                  [1.0466332466484716, 1.2695788514732038, 1.5925221379223902],
                  [1.0305701889542704, 1.2556098818633004, 1.1955531036563947],
                  [1.0093128546731434, 1.2418526755728039, 1.1713455839233635],
                  [1.1207688626396433, 1.292287982275071, 1.6904427137460112],
                  [1.0699191220773712, 1.1826673716236045, 1.2204207641008251],
                  [0.996315895540807, 1.2617683169642, 1.2642568103713618],
                  [1.0862714851308195, 1.2482598509772744, 1.2443402923512983],
                  [1.1075191783687415, 1.2339523610177898, 1.2235195907688288],
                  [1.1352922137086423, 1.3221843708798062, 1.1952541450729421],
                  [1.0933318365514144, 1.218812483604082, 1.2807884507699867],
                  [1.0138730898058028, 1.261488069279915, 1.1870524568422645],
                  [1.0957791480230987, 1.1843936825389096, 1.3011026267374677],
                  [1.0777668911352078, 1.1952002791079608, 1.2570727687746848]]

error_coef_5th = [[0.9289794104577099, 1.227981796201434, 1.1538594053265652],
                  [1.0549046663924022, 1.1899222056702372, 1.1940496125238522],
                  [0.9694008617973662, 1.174084051724138, 1.1863097979196013],
                  [1.0699998976581628, 1.1687604487642942, 1.270892577586763],
                  [1.0736990263175397, 1.2286432051437508, 1.2779075691411936],
                  [1.1106481956513339, 1.221556234660575, 1.1580558761596813],
                  [1.0861213870893296, 1.2180994795705316, 1.183472405667727],
                  [1.0947647704696863, 1.168160433003955, 1.1358954791049787],
                  [1.0844265781339133, 1.2088623040916835, 1.3723093256772014],
                  [1.0860189077205156, 1.2301077040040547, 1.2803863853074084],
                  [1.1405810737121078, 1.32154573869915, 2.7996109754583456],
                  [1.0321742439312684, 1.2425318807280097, 2.272685891162346],
                  [1.1057342781396908, 1.231037459250108, 1.2210071761873795],
                  [1.097802432624174, 1.1594147548067273, 1.3018006060626954],
                  [1.0851055027734617, 1.164842587671732, 1.1680107318434887],
                  [1.0821687417369277, 1.211606353830372, 1.2892989631884333],
                  [1.0813084775348671, 1.1726212926387694, 1.2160233149904514],
                  [1.0578469708071099, 1.2541383149256138, 1.5875649823248077],
                  [0.9699864727589887, 1.1899475555928707, 1.2478584476775463],
                  [1.0862640364361493, 1.2067504970778669, 1.1443823936907171],
                  [1.0607324180873479, 1.2146965281654436, 1.1483688375446306],
                  [1.087162982814969, 1.1262084058449198, 1.1729188303539912],
                  [1.0488874822666163, 1.2929510846021819, 1.465741811175337],
                  [1.085971497672822, 1.1656691602391094, 1.1922300597632456],
                  [1.0261990593306853, 1.2332190499104445, 1.389377211271165],
                  [1.0808003632961787, 1.1865077672752988, 1.1628565816961176],
                  [1.0293133781671586, 1.2025540153727678, 1.2469029539429912],
                  [1.1302761312238008, 1.281952457061006, 1.5103445681613001],
                  [1.03745501387119, 1.2379224474106976, 1.2288233413620513],
                  [1.1127790637738455, 1.240206672942844, 1.6236193178756801],
                  [1.104925167007513, 1.2168840675736867, 1.486644040276478],
                  [1.083887261123146, 1.2456314164206193, 1.2459166799128818],
                  [1.0972786545412667, 1.1821889747976215, 1.1693382785380624],
                  [1.0879849206949708, 1.2677971344358494, 2.5280562937907707],
                  [1.0904023437236314, 1.2597234133392734, 1.411114593594221],
                  [1.0415766414835588, 1.2292465316927301, 1.6423536983548914],
                  [1.073728855542097, 1.2337767277085476, 1.33961553874364],
                  [1.1210385705357495, 1.2036075646084299, 1.3459995351852532],
                  [1.0831135530282439, 1.1740354367234247, 1.1738340444313669],
                  [1.0858901760781774, 1.1459744779855552, 1.725513275903376],
                  [1.032472075269361, 1.2286411208727992, 1.1816548631082844],
                  [1.0919453800125485, 1.2834433787449784, 1.1608131660092058],
                  [1.1044672088753416, 1.2781473429581884, 1.734895653176525],
                  [1.0638614994419282, 1.212485219658612, 1.166199705871262],
                  [1.1056727837238505, 1.2982179209873401, 1.3087904869380673],
                  [1.0791245469345723, 1.1850875202801334, 1.275698109773537],
                  [1.0235885260474311, 1.229734517768953, 1.2501331668509046],
                  [0.9994731461105775, 1.203719361151871, 1.2267145095264567],
                  [1.105802972650458, 1.1948514014576816, 1.2012044455931765],
                  [1.0714145753947117, 1.1923651849069095, 1.1991720125513219],
                  [1.0958864679776918, 1.1436855648855213, 1.2466084034411717],
                  [1.1024200174222607, 1.2075253828707602, 1.185154611943009]]

error_coef_6th = [[0.9615942226275882, 0.9786190161762812, 0.9978750495752187],
                  [1.0057236710258435, 1.0213984492217476, 0.9315735280351961],
                  [0.95257917957213, 1.0032769881736003, 0.9071373679022597],
                  [0.9958882744520703, 0.9519285335273119, 0.9590239975988758],
                  [0.981291189637421, 0.9979195285863203, 1.0774696339080947],
                  [0.9415639845328421, 0.9427349929441471, 0.9731343578203496],
                  [1.0033077550678369, 1.0034183543796387, 0.9915760869565218],
                  [0.9326042111410179, 0.9766529280599991, 0.9583073647681776],
                  [1.0277024031213975, 0.938675576789332, 1.0664143688513232],
                  [1.0068339097805454, 0.9927176602104025, 1.0152715041965565],
                  [0.8983188885968213, 0.8962629066006047, 0.9333412336315696],
                  [0.876369400218625, 1.002245199571263, 1.0353932584269663],
                  [1.0705095840214034, 0.9847239064735251, 1.0016401324927877],
                  [0.97947830721205, 0.9738886862885595, 1.0416874571476775],
                  [0.9933955172266785, 0.9637358060046707, 0.9503163744303745],
                  [1.0242630614950263, 0.9982929291430918, 1.0149692711545555],
                  [0.9977981453501094, 1.0169672486027126, 0.9214665588552268],
                  [1.0181921579507736, 0.9617137809939946, 1.1241496455630209],
                  [1.02543356181014, 0.9435972459240975, 1.0085630727031987],
                  [1.0167302321854041, 0.9994675436316467, 0.9404850746268657],
                  [0.9795381287279803, 0.965214546205465, 1.0109503514965277],
                  [0.9362208827741004, 0.9530469034917393, 0.9434479817852318],
                  [1.02015714221818, 0.9743290037365013, 1.0391596489222523],
                  [0.9681010364101275, 0.9144539376026752, 0.972145502739418],
                  [1.0011804236728294, 0.9962957324808444, 1.1414814230910715],
                  [0.9278739612188366, 1.0376555964849175, 0.9204601309139229],
                  [0.9760943401204526, 0.9859016759606379, 0.9802435949583271],
                  [1.0332545119544239, 0.934350326542548, 1.1455823997630017],
                  [1.0302185783058886, 0.9480557521211773, 1.009827754247349],
                  [0.9699885204536418, 0.9738219836366296, 1.0823724846768847],
                  [0.9200721114924401, 0.9882150946230576, 1.0570189377652315],
                  [0.9068204293401682, 0.9789345623067788, 1.0509893135395225],
                  [0.9746711830598579, 1.0084505428955692, 0.9557372165506549],
                  [1.045804064260281, 0.9906468570962189, 1.0918422399601588],
                  [1.072327967009583, 1.0177818722091247, 1.1154226592019625],
                  [0.8541052000166937, 0.9398153434996105, 1.1180395782713712],
                  [0.9241184964317931, 0.9922018146689818, 1.0713254149732918],
                  [0.9330936000545501, 0.9639945443112135, 1.0300236406619385],
                  [0.9892275912337511, 0.9765272532765416, 0.9656969016556334],
                  [0.9527470052930681, 0.9649193999776111, 1.0159834472032439],
                  [1.0714431957276775, 1.0168947120095815, 0.989683352791213],
                  [1.04938212263403, 0.9830035172232994, 0.9825685317589818],
                  [0.9771635514136234, 0.9872782069264459, 1.0174968838003786],
                  [0.9704270126266098, 1.0599564576704854, 0.9313419553266149],
                  [0.9124333437404898, 0.9899849446511142, 1.1287211999929163],
                  [1.0871611608754275, 0.9645900503326067, 0.9583898708697645],
                  [0.9912613701809415, 1.0495136259300757, 0.9394633530752347],
                  [0.8156987590603312, 0.914638292962838, 0.9864744857873333],
                  [0.9489645858417681, 0.9794035546108347, 0.9019633793167876],
                  [1.042669189748984, 0.982935675092613, 1.0951143136946717],
                  [0.989535128773937, 1.0292409547871193, 0.8946577000237557],
                  [0.8937559232018707, 1.004377266487738, 0.8895533183847656]]

# accuracy calculation
a = 0
for i in range(52):
    error_coef_6th[i][0] = 1 - abs(error_coef_6th[i][0] - 1)
    error_coef_6th[i][1] = 1 - abs(error_coef_6th[i][1] - 1)
    error_coef_6th[i][2] = 1 - abs(error_coef_6th[i][2] - 1)
    error_coef_6th[i] = (error_coef_6th[i][0] + error_coef_6th[i][1] + error_coef_6th[i][2]) / 3
    a = a + error_coef_6th[i]
print(error_coef_6th)
print(a / 52)


error_coef = []
for i in range(52):
    error = []
    for j in range(3):
        e = max(error_coef_5th[i][j], error_coef_4th[i][j])
        error.append(e)
    error_coef.append(error)
print(error_coef[50])

with open('../data/data.json') as f:
    data = json.load(f)
    error_list = []
    for i in range(52):
        reg = data["regression_all"][i]
        error = []
        for j in range(len(reg)):
            e = reg[j]["latestScore"] / reg[j]["prediction"]
            error.append(e)
        error_list.append(error)
print(error_list)
